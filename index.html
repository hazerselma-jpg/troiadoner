<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Troia D√∂ner | Online Sipari≈ü</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    body { background:#111; color:#f5f5f5; }
    a { text-decoration:none; }

    .page { max-width: 900px; margin: 0 auto; padding: 20px; }
    header { padding: 20px 0; text-align: center; border-bottom: 1px solid #333; }
    header h1 { font-size: 2.4rem; letter-spacing: .08em; text-transform: uppercase; }
    header h1 span { color: #f5c451; }
    header p { margin-top: 8px; color:#aaa; font-size:.95rem; }

    .hero { display:flex; flex-wrap:wrap; align-items:center; gap:20px; padding:30px 0; }
    .hero-text { flex:1 1 260px; }
    .hero-text h2 { font-size:1.6rem; margin-bottom:10px; }
    .hero-text p { color:#ccc; margin-bottom:15px; }
    .hero-tags { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:18px; }
    .tag { border:1px solid #444; padding:4px 10px; border-radius:999px; font-size:.8rem; color:#ccc; }

    .btn-main { display:inline-block; padding:12px 22px; border-radius:999px; background: linear-gradient(135deg,#f6d365,#fda085); color:#111; font-weight:600; }
    .btn-main small { display:block; font-size:.75rem; opacity:.8; }

    .hero-img { flex:1 1 260px; border-radius:16px; border:1px solid #333; padding:10px; background: radial-gradient(circle at top,#333 0,#111 55%); text-align:center; }
    .hero-img-inner { border-radius:12px; border:1px solid #444; padding:14px; }
    .hero-img h3 { margin-bottom:6px; }
    .hero-img p { font-size:.85rem; color:#bbb; }

    .menu { margin-top:10px; padding:20px 0; border-top:1px solid #333; }
    .menu h2 { margin-bottom:12px; font-size:1.3rem; }
    .menu-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(230px,1fr)); gap:14px; }

    .item { border:1px solid #333; border-radius:12px; padding:12px; background:#151515; }
    .item-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
    .item-name { font-weight:600; }
    .item-price { color:#f5c451; font-weight:600; }
    .item-desc { font-size:.85rem; color:#bbb; margin-bottom:8px; }
    .item-note { font-size:.75rem; color:#888; }

    .info { margin:25px 0; display:grid; gap:12px; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); }
    .info-box { border:1px solid #333; border-radius:12px; padding:12px; background:#151515; font-size:.9rem; }
    .info-box h3 { margin-bottom:6px; font-size:.95rem; color:#f5c451; }

    footer { border-top:1px solid #333; padding:14px 0; text-align:center; font-size:.8rem; color:#777; }

    @media (max-width:600px){
      header h1 { font-size:1.8rem; }
      .hero { padding:20px 0; }
    :root {
      --bg-1: #0c0a10;
      --bg-2: #13101a;
      --panel: rgba(24, 21, 32, 0.78);
      --card: rgba(24, 21, 32, 0.88);
      --accent: #f5c451;
      --accent-2: #f2a65a;
      --muted: #b9b8c1;
      --text: #f6f6f8;
      --shadow: 0 20px 60px rgba(0, 0, 0, 0.55);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }

    body {
      background: radial-gradient(140% 120% at 20% 10%, rgba(245, 196, 81, 0.06), transparent 32%),
                  radial-gradient(120% 140% at 80% 0%, rgba(242, 166, 90, 0.08), transparent 36%),
                  linear-gradient(135deg, var(--bg-1), var(--bg-2));
      color: var(--text);
      min-height: 100vh;
      padding: 22px 18px 160px;
    }

    a { color: inherit; text-decoration: none; }

    .shell { max-width: 1200px; margin: 0 auto; display: grid; gap: 22px; }

    header { display: flex; align-items: center; gap: 14px; padding: 14px 16px; border-radius: 16px; background: linear-gradient(120deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); border: 1px solid rgba(255,255,255,0.04); box-shadow: var(--shadow); }
    .brand-logo { width: 68px; height: 68px; border-radius: 14px; background: linear-gradient(135deg, rgba(245,196,81,0.2), rgba(242,166,90,0.18)); display: grid; place-items: center; overflow: hidden; border: 1px solid rgba(255,255,255,0.04); }
    .brand-logo img { width: 100%; height: 100%; object-fit: cover; }
    .brand-title { display: grid; gap: 4px; }
    .brand-title h1 { letter-spacing: 0.14em; font-size: 1.9rem; color: var(--accent); text-transform: uppercase; }
    .brand-title p { color: var(--muted); font-size: 0.95rem; }

    .hero { display: grid; grid-template-columns: 1.3fr 0.9fr; gap: 18px; padding: 16px; border-radius: 18px; background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); border: 1px solid rgba(255,255,255,0.04); box-shadow: var(--shadow); }
    .hero h2 { font-size: 1.6rem; margin-bottom: 10px; }
    .hero p { color: #e1e1e7; line-height: 1.5; margin-bottom: 12px; }
    .tag-row { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
    .tag { padding: 6px 10px; border-radius: 999px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.05); color: var(--muted); font-size: 0.85rem; }

    .cta { display: inline-flex; align-items: center; gap: 10px; padding: 12px 16px; border-radius: 14px; background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: #111; font-weight: 800; box-shadow: 0 12px 30px rgba(245,196,81,0.28); }
    .cta small { display: block; font-size: 0.82rem; opacity: 0.8; }

    .quick-panels { display: grid; gap: 10px; }
    .info-card { background: var(--card); border-radius: 14px; padding: 12px; border: 1px solid rgba(255,255,255,0.05); box-shadow: var(--shadow); display: grid; gap: 6px; }
    .info-card h3 { color: var(--accent); font-size: 1rem; }
    .info-card p, .info-card a { color: #dfe0e6; font-size: 0.95rem; line-height: 1.45; }

    .section { padding: 10px 0; }
    .section h2 { font-size: 1.25rem; margin-bottom: 12px; }
    .muted { color: var(--muted); font-size: 0.95rem; }

    .menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; align-items: stretch; grid-auto-rows: 1fr; }
    .menu-card { background: var(--card); border-radius: 16px; border: 1px solid rgba(255,255,255,0.05); box-shadow: var(--shadow); display: grid; grid-template-rows: auto 1fr; min-height: 100%; overflow: hidden; }
    .menu-img { width: 100%; height: 150px; background: linear-gradient(120deg, rgba(245,196,81,0.08), rgba(242,166,90,0.06)); object-fit: cover; }
    .menu-body { padding: 12px; display: grid; gap: 8px; flex: 1; }
    .menu-head { display: flex; justify-content: space-between; gap: 10px; align-items: baseline; }
    .menu-name { font-weight: 800; font-size: 1.02rem; }
    .menu-price { color: var(--accent); font-weight: 800; }
    .menu-desc { color: #e8e8ed; line-height: 1.4; }
    .menu-extra { color: #c8c7ce; font-size: 0.9rem; }
    .option-row { display: flex; flex-wrap: wrap; gap: 8px; }
    .chip { padding: 6px 10px; border-radius: 12px; background: rgba(255,255,255,0.05); color: #f1f1f4; border: 1px solid rgba(255,255,255,0.04); font-size: 0.88rem; }

    .card-actions { display: flex; gap: 8px; margin-top: auto; flex-wrap: wrap; }
    .qty { display: inline-flex; align-items: center; gap: 6px; padding: 8px 10px; border-radius: 12px; background: rgba(0,0,0,0.35); border: 1px solid rgba(255,255,255,0.06); color: #fff; font-weight: 700; }
    .qty button { background: transparent; border: none; color: #fff; font-size: 1rem; cursor: pointer; }
    .btn { padding: 10px 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.06); background: rgba(255,255,255,0.06); color: #fff; font-weight: 700; cursor: pointer; }
    .btn.gold { background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: #111; border: none; box-shadow: 0 10px 28px rgba(245,196,81,0.28); }

    .drink-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
    .drink-card { background: var(--card); border: 1px solid rgba(255,255,255,0.05); border-radius: 14px; padding: 12px; display: flex; justify-content: space-between; gap: 10px; align-items: center; box-shadow: var(--shadow); }

    /* Cart & CTA dock */
    .dock { position: fixed; right: 18px; bottom: 18px; display: grid; gap: 10px; z-index: 999; }
    .dock-btn { display: flex; align-items: center; gap: 10px; padding: 12px 14px; border-radius: 14px; border: 1px solid rgba(255,255,255,0.08); background: linear-gradient(145deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); color: #fff; font-weight: 800; box-shadow: var(--shadow); cursor: pointer; justify-content: space-between; min-width: 220px; }
    .dock-btn strong { color: var(--accent); }
    .cart-count { background: var(--accent); color: #111; border-radius: 999px; padding: 4px 8px; font-weight: 900; }
    .dock-label { display: grid; gap: 2px; text-align: left; }
    .dock-sub { color: var(--muted); font-weight: 600; font-size: 0.92rem; }
    .cart-panel { position: fixed; right: 18px; bottom: 82px; width: min(420px, 95vw); max-height: 72vh; overflow: auto; background: linear-gradient(180deg, rgba(14,14,18,0.95), rgba(24,20,32,0.95)); border-radius: 16px; border: 1px solid rgba(255,255,255,0.08); box-shadow: var(--shadow); padding: 14px; display: none; z-index: 998; }
    .cart-panel header { display: flex; align-items: center; justify-content: space-between; background: transparent; border: none; box-shadow: none; padding: 0 0 8px; }
    .cart-line { display: grid; grid-template-columns: 1fr auto; gap: 8px; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.06); }
    .cart-line h4 { font-size: 1rem; }
    .cart-line .muted { font-size: 0.9rem; }
    .cart-ctrl { display: flex; align-items: center; gap: 6px; }
    .cart-ctrl button { padding: 6px 8px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.07); background: rgba(255,255,255,0.05); color: #fff; cursor: pointer; }
    .totals { display: grid; gap: 6px; margin-top: 12px; }
    .totals div { display: flex; justify-content: space-between; }

    /* modal */
    .modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.65); display: none; align-items: center; justify-content: center; z-index: 1200; }
    .modal { background: var(--panel); border-radius: 16px; padding: 16px; border: 1px solid rgba(255,255,255,0.08); box-shadow: var(--shadow); width: min(520px, 92vw); max-height: 88vh; overflow: auto; }
    .modal h3 { margin-bottom: 10px; }
    .field { display: grid; gap: 6px; margin-bottom: 10px; }
    .field label { color: var(--muted); font-size: 0.95rem; }
    .field input, .field textarea, .field select { width: 100%; padding: 10px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.07); background: rgba(255,255,255,0.04); color: #fff; }
    .message-preview { background: rgba(255,255,255,0.03); border: 1px dashed rgba(255,255,255,0.08); padding: 10px; border-radius: 12px; color: #e8e8ef; font-size: 0.95rem; white-space: pre-wrap; }

    .admin-toggle { position: fixed; left: 18px; bottom: 18px; z-index: 1000; }
    .admin-toggle button { padding: 10px 14px; border-radius: 14px; border: 1px solid rgba(255,255,255,0.08); background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: #111; font-weight: 800; box-shadow: var(--shadow); cursor: pointer; }
    .admin-panel { position: fixed; left: 18px; bottom: 82px; width: min(560px, 95vw); max-height: 80vh; overflow: auto; background: linear-gradient(180deg, rgba(14,14,18,0.95), rgba(24,20,32,0.95)); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; padding: 14px; box-shadow: var(--shadow); display: none; z-index: 999; }
    .admin-panel h4 { margin: 8px 0; color: var(--accent); }
    .admin-grid { display: grid; gap: 8px; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
    .admin-panel input, .admin-panel textarea { width: 100%; padding: 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.07); background: rgba(255,255,255,0.05); color: #fff; }
    .admin-row { border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 10px; background: rgba(255,255,255,0.02); display: grid; gap: 6px; }

    .toast { position: fixed; right: 18px; top: 18px; background: rgba(0,0,0,0.9); color: #fff; padding: 10px 14px; border-radius: 12px; box-shadow: var(--shadow); opacity: 0; transform: translateY(-8px); transition: opacity .28s, transform .28s; z-index: 1400; }
    .toast.show { opacity: 1; transform: translateY(0); }

    @media (max-width: 900px) {
      .hero { grid-template-columns: 1fr; }
    }
    @media (max-width: 640px) {
      body { padding: 14px 12px 180px; }
      header { flex-direction: column; text-align: center; }
      .brand-logo { margin-bottom: 6px; }
    }
  </style>
</head>
<body>
  <div class="page">
  <div class="shell">
    <header>
      <h1>TROIA <span>D√ñNER</span></h1>
      <p>Tarihten gelen lezzet ¬∑ √áanakkale</p>
      <div class="brand-logo" id="brandLogo" aria-hidden="true"></div>
      <div class="brand-title">
        <h1 id="brandTitle">TROIA D√ñNER</h1>
        <p id="brandSlogan">Tarihten gelen lezzet ‚Äì √áanakkale</p>
      </div>
    </header>

    <section class="hero">
      <div class="hero-text">
        <h2>Sƒ±cak, taze, sosu tam kararƒ±nda d√∂ner.</h2>
        <p>Aynƒ± anda hem sokak lezzeti, hem sessiz l√ºks. Troia D√∂ner ≈üimdi √ßevrim i√ßi sipari≈üle cebinde.</p>

        <div class="hero-tags">
      <div>
        <h2>Premium d√∂neri evinize ta≈üƒ±yoruz.</h2>
        <p>Koyu, modern ve ≈üƒ±k tasarƒ±mda Troia D√∂ner men√ºs√ºn√º ke≈üfedin. Favorilerinizi sepete ekleyin, adres ve telefonunuzla birlikte WhatsApp'tan tek dokunu≈üla g√∂nderin.</p>
        <div class="tag-row">
          <span class="tag">üî• G√ºnl√ºk taze √ºr√ºn</span>
          <span class="tag">üöö Paket servis</span>
          <span class="tag">üìç √áanakkale merkez</span>
          <span class="tag">üöö Hƒ±zlƒ± teslimat / gel-al</span>
          <span class="tag">‚≠ê Premium sunum</span>
        </div>

        <!-- WHATSAPP NUMARANI BURAYA Gƒ∞RECEKSƒ∞N -->
        <a class="btn-main" href="https://wa.me/905000000000?text=Merhaba%2C%20Troia%20D%C3%B6ner%20i%C3%A7in%20sipari%C5%9F%20vermek%20istiyorum." target="_blank">
          WhatsApp‚Äôtan Sipari≈ü Ver
          <small>Sepetini yaz, hemen hazƒ±rlayalƒ±m.</small>
        </a>
        <a id="heroCta" class="cta" href="#menu">Men√ºye G√∂z Atƒ±n <small>√ñzel sos ve se√ßeneklerle ki≈üiselle≈ütirin.</small></a>
      </div>

      <div class="hero-img">
        <div class="hero-img-inner">
          <h3>Bug√ºn√ºn √∂nerisi</h3>
          <p>Pilav√ºst√º tavuk d√∂ner + ayran ¬∑ sosu bol, soƒüan isteƒüe baƒülƒ±.</p>
      <div class="quick-panels">
        <div class="info-card">
          <h3>Konum</h3>
          <p>Troia D√∂ner ¬∑ √áanakkale Merkez<br><a href="https://maps.google.com/?q=Troia%20D%C3%B6ner%20%C3%87anakkale" target="_blank" rel="noopener">Haritayƒ± a√ß</a></p>
        </div>
        <div class="info-card">
          <h3>Telefon</h3>
          <p><a id="heroPhone" href="tel:+905415788507">0 (541) 578 85 07</a><br>Arayƒ±n veya WhatsApp'tan yazƒ±n.</p>
        </div>
        <div class="info-card">
          <h3>√áalƒ±≈üma Saatleri</h3>
          <p>Her g√ºn 11:00 ‚Äì 23:00<br>Yoƒüun saat: 12:00 ‚Äì 14:00, 18:00 ‚Äì 21:00</p>
        </div>
      </div>
    </section>

    <section class="menu">
      <h2>Men√º</h2>
      <div class="menu-grid">
        <div class="item">
          <div class="item-header">
            <span class="item-name">Pilav√ºst√º Tavuk D√∂ner</span>
            <span class="item-price">‚Ç∫ ‚Äî</span>
          </div>
          <p class="item-desc">Tane tane pirin√ß pilav √ºzerinde ince dilim tavuk d√∂ner, domates ve mor soƒüan e≈üliƒüinde.</p>
          <p class="item-note">Not: Soƒüan / sos tercihini sipari≈ü mesajƒ±nda yazabilirsin.</p>
    <section id="menu" class="section">
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:space-between;">
        <div>
          <h2>Men√º</h2>
          <p class="muted">Kategori kartlarƒ± orantƒ±lƒ± dizildi; fiyat, a√ßƒ±klama ve se√ßenekler kartlarda.</p>
        </div>
        <div class="chip" id="menuSummary">0 √ºr√ºn listeleniyor</div>
      </div>
      <div id="menuContainer" class="menu-grid"></div>
    </section>

        <div class="item">
          <div class="item-header">
            <span class="item-name">Pilav√ºst√º Et D√∂ner</span>
            <span class="item-price">‚Ç∫ ‚Äî</span>
          </div>
          <p class="item-desc">Dana et d√∂ner, pilav, k√∂z biber ve domates ile premium sunum.</p>
          <p class="item-note">Not: Gramaj ve porsiyon bilgisi eklenecek.</p>
        </div>
    <section class="section" id="drinks">
      <h2>ƒ∞√ßecekler</h2>
      <p class="muted">Adedi ayarlayƒ±n, sepete ekleyin; toplam tutara yansƒ±r.</p>
      <div id="drinkContainer" class="drink-grid"></div>
    </section>

        <div class="item">
          <div class="item-header">
            <span class="item-name">Lava≈ü D√ºr√ºm</span>
            <span class="item-price">‚Ç∫ ‚Äî</span>
          </div>
          <p class="item-desc">√ñzel lava≈üta tavuk veya et d√∂ner, isteƒüe g√∂re tur≈üu biber ve sos.</p>
          <p class="item-note">Not: ƒ∞√ßindekileri sipari≈üte yazabilirsin.</p>
    <section class="section">
      <h2>Adƒ±m adƒ±m sipari≈ü</h2>
      <div class="menu-grid" style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));">
        <div class="info-card">
          <h3>1. Men√ºden se√ß</h3>
          <p>√úr√ºn kartƒ±ndaki se√ßenekleri i≈üaretle, adet belirle.</p>
        </div>

        <div class="item">
          <div class="item-header">
            <span class="item-name">ƒ∞√ßecekler</span>
            <span class="item-price">‚Ç∫ ‚Äî</span>
          </div>
          <p class="item-desc">Cam ≈üi≈üe ayran, kola, gazlƒ± i√ßecekler.</p>
          <p class="item-note">Not: Miktar ve marka tercihini mesajda belirt.</p>
        <div class="info-card">
          <h3>2. Sepeti a√ß</h3>
          <p>Saƒü alttan sepeti a√ß, toplamƒ± g√∂r. Sepete git dediƒüinde tutar g√∂r√ºn√ºr.</p>
        </div>
        <div class="info-card">
          <h3>3. WhatsApp'a g√∂nder</h3>
          <p>Ad-soyad, telefon ve adresi doldur; √ºr√ºn listesiyle mesaj hazƒ±rlanƒ±r.</p>
        </div>
      </div>
    </section>

    <section class="info">
      <div class="info-box">
        <h3>√áalƒ±≈üma Saatleri</h3>
        <p>Her g√ºn: 11.00 ‚Äì 23.00<br/>Yoƒüun saat: 12.00 ‚Äì 14.00 / 18.00 ‚Äì 21.00</p>
    <footer class="muted" style="text-align:center; padding: 12px 0 24px;">Troia D√∂ner ¬∑ Premium tek sayfa deneyimi</footer>
  </div>

  <div class="toast" id="toast" aria-live="polite">G√ºncellendi</div>

  <!-- Cart dock -->
  <div class="dock">
    <button class="dock-btn" id="cartToggle">
      <div class="dock-label">
        <span>Sepete Git</span>
        <span class="dock-sub">Toplam: <strong id="cartMiniTotal">‚Ç∫ 0,00</strong></span>
      </div>
      <span class="cart-count" id="cartCount">0</span>
    </button>
    <a class="dock-btn" id="whatsappDock" href="#" target="_blank" rel="noopener">
      <span>WhatsApp</span>
      <strong>G√∂nder</strong>
    </a>
  </div>

  <div class="cart-panel" id="cartPanel" aria-hidden="true">
    <header>
      <h3>Sepet √ñzeti <span id="cartHeaderTotal" style="color:var(--accent);font-size:1rem;"></span></h3>
      <button class="btn" id="closeCart">Kapat</button>
    </header>
    <div id="cartItems"></div>
    <div class="totals">
      <div><span>Ara toplam</span><strong id="subTotal">‚Ç∫ 0,00</strong></div>
      <div><span>Teslimat √ºcreti</span><strong>‚Ç∫ 0,00</strong></div>
      <div style="font-size:1.1rem;color:var(--accent);"><span>Genel toplam</span><strong id="grandTotal">‚Ç∫ 0,00</strong></div>
    </div>
    <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap;">
      <button class="btn" id="clearCart">Sepeti Temizle</button>
      <button class="btn gold" id="checkoutBtn">Sipari≈üi Tamamla</button>
    </div>
    <p class="muted" style="margin-top:8px;">Adres ve telefon bilgisi doldurulduktan sonra WhatsApp mesajƒ± hazƒ±rlanƒ±r.</p>
  </div>

  <!-- Checkout modal -->
  <div class="modal-backdrop" id="checkoutModal" aria-hidden="true">
    <div class="modal">
      <h3>Sipari≈ü Bilgileri</h3>
      <div class="field">
        <label>Ad Soyad *</label>
        <input id="custName" placeholder="Adƒ±nƒ±zƒ± soyadƒ±nƒ±zƒ± girin" />
      </div>
      <div class="info-box">
        <h3>Konum</h3>
        <p>Troia D√∂ner ¬∑ √áanakkale Merkez<br/>Google Haritalar linki buraya gelecek.</p>
      <div class="field">
        <label>Telefon *</label>
        <input id="custPhone" placeholder="05xx xxx xx xx" />
      </div>
      <div class="info-box">
        <h3>Telefon</h3>
        <p>0 (5xx) xxx xx xx<br/>Arayarak da sipari≈ü verebilirsiniz.</p>
      <div class="field">
        <label>Adres *</label>
        <textarea id="custAddress" rows="3" placeholder="Mahalle, sokak, daire bilgisi"></textarea>
      </div>
    </section>
      <div class="field">
        <label>Teslimat tipi *</label>
        <select id="deliveryType">
          <option value="Adrese Teslim">Adrese Teslim</option>
          <option value="Gel-Al">Gel-Al</option>
        </select>
      </div>
      <div class="field">
        <label>Not (isteƒüe baƒülƒ±)</label>
        <textarea id="custNote" rows="2" placeholder="Soƒüansƒ±z, acƒ±sƒ±z, kapƒ±ya asƒ±n..."></textarea>
      </div>
      <div class="field">
        <label>WhatsApp'a gidecek √∂nizleme</label>
        <div class="message-preview" id="waPreview">Sepet bo≈ü.</div>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <button class="btn" id="cancelCheckout">Vazge√ß</button>
        <button class="btn gold" id="sendWhatsapp">WhatsApp'a G√∂nder</button>
      </div>
      <p class="muted" style="margin-top:8px;">Mesaj, √ºr√ºn listesi, √∂deme tutarƒ±, adres ve telefonunuzla birlikte g√∂nderilir.</p>
    </div>
  </div>

    <footer>
      Troia D√∂ner ¬∑ Tarihten gelen lezzet
    </footer>
  <!-- Admin -->
  <div class="admin-toggle"><button id="adminToggle">Admin</button></div>
  <div class="admin-panel" id="adminPanel" aria-hidden="true">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap;">
      <h3>Admin Ayarlarƒ±</h3>
      <button class="btn" id="closeAdmin">Kapat</button>
    </div>
    <h4>Marka & ƒ∞leti≈üim</h4>
    <div class="admin-grid">
      <div class="field"><label>Logo URL</label><input id="adminLogo" placeholder="https://..." /></div>
      <div class="field"><label>Ba≈ülƒ±k</label><input id="adminTitle" /></div>
      <div class="field"><label>Slogan</label><input id="adminSlogan" /></div>
      <div class="field"><label>WhatsApp Numara (905XXXXXXXXX)</label><input id="adminWa" /></div>
    </div>
    <h4>Men√º Y√∂netimi</h4>
    <p class="muted">ƒ∞sim, i√ßerik, fiyat ve kategori d√ºzenlenebilir; yeni √ºr√ºn ekleyin. Deƒüi≈üiklikler localStorage'da saklanƒ±r.</p>
    <div id="menuEditor" class="admin-grid"></div>
    <div class="admin-row">
      <strong>Yeni √ºr√ºn ekle</strong>
      <div class="admin-grid">
        <input id="newCat" placeholder="Kategori (D√∂nerler)" />
        <input id="newName" placeholder="√úr√ºn adƒ±" />
        <input id="newPrice" placeholder="Fiyat (√∂r: 230)" />
        <input id="newImg" placeholder="G√∂rsel URL (isteƒüe baƒülƒ±)" />
      </div>
      <textarea id="newDesc" placeholder="Ana a√ßƒ±klama"></textarea>
      <textarea id="newExtra" placeholder="Ek a√ßƒ±klama (isteƒüe baƒülƒ±)"></textarea>
      <textarea id="newOpts" placeholder="Se√ßenekler (virg√ºlle ayƒ±r, √∂r: Soƒüansƒ±z|0,Acƒ± sos|5)"></textarea>
      <button class="btn gold" id="addNewItem">Ekle</button>
    </div>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;">
      <button class="btn" id="saveConfig">Kaydet</button>
      <button class="btn" id="resetConfig">Varsayƒ±lan</button>
    </div>
  </div>

  <script>
    // === Config & state ===
    const STORAGE_KEY = 'troia_config_v2';
    const CART_KEY = 'troia_cart_v2';
    const defaultConfig = {
      brandTitle: 'TROIA D√ñNER',
      brandSlogan: 'Tarihten gelen lezzet ‚Äì √áanakkale',
      logoUrl: '',
      whatsappNumber: '905415788507',
      menuItems: [
        { id: 'm1', category: 'D√∂nerler', name: 'Pilav√ºst√º Tavuk D√∂ner', price: 250, descMain: 'Tane tane pilav √ºzerinde ince dilim tavuk d√∂ner, domates ve soƒüan.', descExtra: 'Sos ve soƒüan tercihi mesajda belirtilebilir.', image: 'https://images.unsplash.com/photo-1601050690597-df0568f70950?auto=format&fit=crop&w=800&q=60', options: [{ name: 'Soƒüansƒ±z', price: 0 }, { name: 'Acƒ± sos', price: 5 }, { name: 'Ek pilav', price: 25 }] },
        { id: 'm2', category: 'D√∂nerler', name: 'Pilav√ºst√º Et D√∂ner', price: 320, descMain: '√ñzel marinasyonlu et d√∂ner, tereyaƒülƒ± pilav ve salata.', descExtra: 'Tereyaƒü miktarƒ±nƒ± not d√º≈üebilirsiniz.', image: 'https://images.unsplash.com/photo-1604908177097-5e4e7f19f5b0?auto=format&fit=crop&w=800&q=60', options: [{ name: 'Tereyaƒü ekle', price: 15 }, { name: 'Soƒüansƒ±z', price: 0 }] },
        { id: 'm3', category: 'D√ºr√ºmler', name: 'Lava≈ü D√ºr√ºm (Tavuk)', price: 190, descMain: '√ñzel lava≈üta tavuk d√∂ner, salata, tur≈üu, sos.', descExtra: 'Acƒ±/acƒ±ksƒ±z belirtilebilir.', image: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=60', options: [{ name: 'Acƒ± sos', price: 5 }, { name: 'Soƒüansƒ±z', price: 0 }] },
        { id: 'm4', category: 'D√ºr√ºmler', name: 'Lava≈ü D√ºr√ºm (Et)', price: 240, descMain: '√ñzel lava≈üta et d√∂ner, ye≈üillik ve tur≈üu.', descExtra: 'Ek cheddar veya ka≈üar eklenebilir.', image: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=60', options: [{ name: 'Ka≈üar ekle', price: 18 }] },
        { id: 'm5', category: 'Tabaklar', name: '√ñzel Karƒ±≈üƒ±k Tabak', price: 360, descMain: 'Et + tavuk karƒ±≈üƒ±k, pilav, patates ve salata.', descExtra: 'Sarƒ±msaklƒ± yoƒüurt isteƒüe baƒülƒ±.', image: 'https://images.unsplash.com/photo-1604908177097-5e4e7f19f5b0?auto=format&fit=crop&w=800&q=60', options: [{ name: 'Yoƒüurt', price: 10 }, { name: 'Acƒ±sƒ±z', price: 0 }] },
        { id: 'm6', category: 'Ekstralar', name: 'Patates Kƒ±zartmasƒ±', price: 70, descMain: 'Dƒ±≈üƒ± √ßƒ±tƒ±r, i√ßi yumu≈üak patates kƒ±zartmasƒ±.', descExtra: '', image: 'https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&fit=crop&w=800&q=60', options: [{ name: 'Ket√ßap', price: 0 }, { name: 'Mayonez', price: 0 }] }
      ],
      drinkItems: [
        { id: 'd1', name: 'Kola 330ml', price: 50 },
        { id: 'd2', name: 'Ayran 330ml', price: 35 },
        { id: 'd3', name: '≈ûalgam', price: 40 },
        { id: 'd4', name: 'Soda', price: 30 }
      ]
    };

    let config = loadConfig();
    let cart = loadCart();

    function loadConfig() {
      try { const saved = localStorage.getItem(STORAGE_KEY); return saved ? JSON.parse(saved) : JSON.parse(JSON.stringify(defaultConfig)); } catch (e) { return JSON.parse(JSON.stringify(defaultConfig)); }
    }
    function saveConfig() { localStorage.setItem(STORAGE_KEY, JSON.stringify(config)); }
    function loadCart() {
      try { const saved = localStorage.getItem(CART_KEY); return saved ? JSON.parse(saved) : []; } catch (e) { return []; }
    }
    function persistCart() { localStorage.setItem(CART_KEY, JSON.stringify(cart)); }

    const fmt = (n) => '‚Ç∫ ' + Number(n || 0).toFixed(2).replace('.', ',');

    // === Rendering ===
    function renderBrand() {
      document.getElementById('brandTitle').textContent = config.brandTitle || 'TROIA D√ñNER';
      document.getElementById('brandSlogan').textContent = config.brandSlogan || 'Tarihten gelen lezzet ‚Äì √áanakkale';
      document.getElementById('heroPhone').textContent = formatPhone(config.whatsappNumber || '905415788507');
      document.getElementById('heroPhone').href = 'tel:+' + (config.whatsappNumber || '905415788507');
      const logo = document.getElementById('brandLogo');
      logo.innerHTML = config.logoUrl ? `<img src="${config.logoUrl}" alt="logo">` : '<span style="color: var(--accent); font-weight: 900;">TD</span>';
      document.getElementById('adminLogo').value = config.logoUrl || '';
      document.getElementById('adminTitle').value = config.brandTitle;
      document.getElementById('adminSlogan').value = config.brandSlogan;
      document.getElementById('adminWa').value = config.whatsappNumber;
    }

    function renderMenu() {
      const container = document.getElementById('menuContainer');
      container.innerHTML = '';
      const categories = [...new Set(config.menuItems.map(i => i.category))];
      let totalCount = 0;
      categories.forEach(cat => {
        const wrap = document.createElement('div');
        wrap.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center;margin:6px 0 6px;">
          <h3 style="color: var(--accent);">${cat}</h3>
          <span class="chip">${config.menuItems.filter(i=>i.category===cat).length} √ºr√ºn</span>
        </div>`;
        const grid = document.createElement('div');
        grid.className = 'menu-grid';
        config.menuItems.filter(i => i.category === cat).forEach(item => {
          totalCount++;
          const card = document.createElement('div');
          card.className = 'menu-card';
          const optionsHtml = (item.options || []).map(opt => `<label class="chip"><input type="checkbox" data-opt="${opt.name}" data-price="${opt.price}" style="accent-color: var(--accent); margin-right:6px;">${opt.name}${opt.price ? ' +' + fmt(opt.price) : ''}</label>`).join('');
          card.innerHTML = `
            <img class="menu-img" src="${item.image || 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=60'}" alt="${item.name}">
            <div class="menu-body">
              <div class="menu-head"><div class="menu-name">${item.name}</div><div class="menu-price">${fmt(item.price)}</div></div>
              <div class="menu-desc">${item.descMain || ''}</div>
              ${item.descExtra ? `<div class="menu-extra">${item.descExtra}</div>` : ''}
              ${optionsHtml ? `<div class="option-row" aria-label="Se√ßenekler">${optionsHtml}</div>` : ''}
              <div class="card-actions">
                <div class="qty"><button class="qty-minus">-</button><span class="qty-val">1</span><button class="qty-plus">+</button></div>
                <button class="btn gold add-to-cart" data-id="${item.id}" data-type="food">Sepete Ekle</button>
              </div>
            </div>`;
          grid.appendChild(card);
        });
        wrap.appendChild(grid);
        container.appendChild(wrap);
      });
      document.getElementById('menuSummary').textContent = `${totalCount} √ºr√ºn listeleniyor`;
    }

    function renderDrinks() {
      const container = document.getElementById('drinkContainer');
      container.innerHTML = '';
      config.drinkItems.forEach(drink => {
        const card = document.createElement('div');
        card.className = 'drink-card';
        card.innerHTML = `
          <div>
            <div style="font-weight:800;">${drink.name}</div>
            <div class="muted">${fmt(drink.price)}</div>
          </div>
          <div class="card-actions" style="margin:0;">
            <div class="qty" data-drink="${drink.id}"><button class="qty-minus">-</button><span class="qty-val">1</span><button class="qty-plus">+</button></div>
            <button class="btn gold add-to-cart" data-id="${drink.id}" data-type="drink">Ekle</button>
          </div>`;
        container.appendChild(card);
      });
    }

    // === Cart ===
    function addToCart(id, type, qty, opts) {
      const list = type === 'food' ? config.menuItems : config.drinkItems;
      const item = list.find(i => i.id === id);
      if (!item) return;
      const price = Number(item.price) || 0;
      const desc = [item.descMain, item.descExtra].filter(Boolean).join(' ‚Äî ');
      const entry = { id, type, name: item.name, price, qty, desc, options: opts || [] };
      cart.push(entry);
      persistCart();
      renderCart();
      toast('Sepete eklendi');
    }

    function renderCart() {
      const box = document.getElementById('cartItems');
      box.innerHTML = '';
      let subtotal = 0;
      cart.forEach((line, idx) => {
        const optsTotal = (line.options || []).reduce((s, o) => s + (Number(o.price) || 0), 0);
        const lineTotal = (line.price + optsTotal) * line.qty;
        subtotal += lineTotal;
        const row = document.createElement('div');
        row.className = 'cart-line';
        row.innerHTML = `
          <div>
            <h4>${line.name}</h4>
            ${line.desc ? `<div class="muted">${line.desc}</div>` : ''}
            ${line.options && line.options.length ? `<div class="muted">${line.options.map(o => o.name + (o.price ? ' +' + fmt(o.price) : '')).join(', ')}</div>` : ''}
            <div class="muted">${line.qty} x ${fmt(line.price)}</div>
          </div>
          <div class="cart-ctrl">
            <span style="color:var(--accent);font-weight:800;">${fmt(lineTotal)}</span>
            <button data-act="minus" data-idx="${idx}">-</button>
            <button data-act="plus" data-idx="${idx}">+</button>
            <button data-act="remove" data-idx="${idx}">‚úï</button>
          </div>`;
        box.appendChild(row);
      });
      document.getElementById('subTotal').textContent = fmt(subtotal);
      document.getElementById('grandTotal').textContent = fmt(subtotal);
      document.getElementById('cartCount').textContent = cart.length;
      document.getElementById('cartMiniTotal').textContent = fmt(subtotal);
      document.getElementById('cartHeaderTotal').textContent = cart.length ? `‚Ä¢ ${fmt(subtotal)}` : '';
      updateWhatsappLink();
      updatePreview();
    }

    document.getElementById('cartItems').addEventListener('click', (e) => {
      const btn = e.target.closest('button'); if (!btn) return;
      const idx = Number(btn.dataset.idx);
      const act = btn.dataset.act;
      if (isNaN(idx) || !cart[idx]) return;
      if (act === 'plus') cart[idx].qty += 1;
      if (act === 'minus') cart[idx].qty = Math.max(1, cart[idx].qty - 1);
      if (act === 'remove') cart.splice(idx, 1);
      persistCart(); renderCart();
    });

    document.getElementById('clearCart').addEventListener('click', () => {
      if (confirm('Sepeti temizlemek ister misiniz?')) { cart = []; persistCart(); renderCart(); }
    });

    // Toggle cart panel
    const cartToggle = document.getElementById('cartToggle');
    const cartPanel = document.getElementById('cartPanel');
    cartToggle.addEventListener('click', () => {
      const visible = cartPanel.style.display === 'block';
      cartPanel.style.display = visible ? 'none' : 'block';
      cartPanel.setAttribute('aria-hidden', visible);
      if (!visible) renderCart();
    });
    document.getElementById('closeCart').addEventListener('click', () => { cartPanel.style.display = 'none'; cartPanel.setAttribute('aria-hidden', 'true'); });

    // Add to cart handlers
    document.body.addEventListener('click', (e) => {
      if (e.target.classList.contains('qty-plus')) {
        const qtyBox = e.target.closest('.qty');
        if (qtyBox) { const span = qtyBox.querySelector('.qty-val'); span.textContent = Number(span.textContent) + 1; }
      }
      if (e.target.classList.contains('qty-minus')) {
        const qtyBox = e.target.closest('.qty');
        if (qtyBox) { const span = qtyBox.querySelector('.qty-val'); span.textContent = Math.max(1, Number(span.textContent) - 1); }
      }
      if (e.target.classList.contains('add-to-cart')) {
        const card = e.target.closest('.menu-card, .drink-card');
        const qtyEl = card.querySelector('.qty-val');
        const qty = Number(qtyEl?.textContent) || 1;
        const id = e.target.dataset.id;
        const type = e.target.dataset.type;
        const opts = [];
        card.querySelectorAll('input[type="checkbox"]').forEach(c => { if (c.checked) opts.push({ name: c.dataset.opt, price: Number(c.dataset.price) || 0 }); });
        addToCart(id, type, qty, opts);
      }
    });

    // Dock WhatsApp button should guide user to checkout if bilgiler eksik
    document.getElementById('whatsappDock').addEventListener('click', (e) => {
      const result = buildMessage();
      if (!result || result.error) {
        e.preventDefault();
        toast(result?.error || '√ñnce sepet ve ileti≈üim bilgilerini tamamlayƒ±n');
        openCheckout();
      }
    });

    // Checkout modal
    document.getElementById('checkoutBtn').addEventListener('click', () => openCheckout());
    document.getElementById('cancelCheckout').addEventListener('click', closeCheckout);
    ['custName','custPhone','custAddress','custNote','deliveryType'].forEach(id => {
      const el = document.getElementById(id);
      const ev = el.tagName === 'SELECT' ? 'change' : 'input';
      el.addEventListener(ev, updatePreview);
    });

    function openCheckout() {
      if (!cart.length) { toast('Sepet bo≈ü'); return; }
      document.getElementById('checkoutModal').style.display = 'flex';
      document.getElementById('checkoutModal').setAttribute('aria-hidden', 'false');
      updatePreview();
    }
    function closeCheckout() {
      document.getElementById('checkoutModal').style.display = 'none';
      document.getElementById('checkoutModal').setAttribute('aria-hidden', 'true');
    }

    function formatPhone(p) {
      const digits = (p || '').replace(/\D/g, '');
      if (digits.length === 12 && digits.startsWith('90')) {
        return `0 (${digits.slice(2,5)}) ${digits.slice(5,8)} ${digits.slice(8,10)} ${digits.slice(10,12)}`;
      }
      if (digits.length === 10) {
        return `0 (${digits.slice(0,3)}) ${digits.slice(3,6)} ${digits.slice(6,8)} ${digits.slice(8,10)}`;
      }
      return digits || 'Telefon';
    }

    function buildMessage() {
      const name = document.getElementById('custName').value.trim();
      const phone = document.getElementById('custPhone').value.trim();
      const address = document.getElementById('custAddress').value.trim();
      const delivery = document.getElementById('deliveryType').value;
      const note = document.getElementById('custNote').value.trim();

      const missing = [];
      if (!name) missing.push('Ad Soyad');
      if (!phone) missing.push('Telefon');
      if (!address) missing.push('Adres');
      if (missing.length) return { error: 'L√ºtfen doldurun: ' + missing.join(', ') };
      if (!cart.length) return { error: 'Sepet bo≈ü' };

      let text = 'Troia D√∂ner sipari≈üim:\n';
      cart.forEach((line, i) => {
        const opts = line.options && line.options.length ? `Se√ßenekler: ${line.options.map(o => o.name + (o.price ? ' +' + fmt(o.price) : '')).join(', ')}` : 'Se√ßenekler: Belirtilmedi';
        const optsTotal = (line.options || []).reduce((s, o) => s + (Number(o.price) || 0), 0);
        const lineTotal = (line.price + optsTotal) * line.qty;
        const desc = line.desc ? ` - ${line.desc}` : '';
        text += `${i+1}) ${line.name} x${line.qty}${desc}\n   ${opts}\n   Satƒ±r toplamƒ±: ${fmt(lineTotal)}\n`;
      });
      const total = cart.reduce((s,l)=> s + (l.price + (l.options||[]).reduce((ss,o)=>ss + (Number(o.price)||0),0)) * l.qty, 0);
      text += `\n√ñdeme tutarƒ±: ${fmt(total)}\n`;
      text += `Teslimat: ${delivery}\n`;
      text += `Adres: ${address}\n`;
      text += `Telefon: ${phone}\n`;
      if (note) text += `Not: ${note}\n`;
      text += '\nSipari≈üim budur, onaylayabilirsiniz.';
      return { text, total };
    }

    function updatePreview() {
      const result = buildMessage();
      const box = document.getElementById('waPreview');
      if (!result || result.error) {
        box.textContent = result && result.error ? result.error : 'Sepet bo≈ü.';
      } else {
        box.textContent = result.text;
      }
      updateWhatsappLink();
    }

    function updateWhatsappLink() {
      const result = buildMessage();
      const waBtn = document.getElementById('whatsappDock');
      if (!result || result.error) {
        waBtn.href = '#';
        return;
      }
      const waNumber = config.whatsappNumber || '905415788507';
      const waText = encodeURIComponent(result.text);
      waBtn.href = `https://api.whatsapp.com/send?phone=${waNumber}&text=${waText}`;
    }

    document.getElementById('sendWhatsapp').addEventListener('click', () => {
      const result = buildMessage();
      if (!result || result.error) { toast(result.error || 'Eksik bilgi'); return; }
      const waNumber = config.whatsappNumber || '905415788507';
      const waText = encodeURIComponent(result.text);
      window.location.href = `https://api.whatsapp.com/send?phone=${waNumber}&text=${waText}`;
    });

    // Admin
    document.getElementById('adminToggle').addEventListener('click', () => {
      const panel = document.getElementById('adminPanel');
      const open = panel.style.display === 'block';
      panel.style.display = open ? 'none' : 'block';
      panel.setAttribute('aria-hidden', open);
      if (!open) renderAdminMenu();
    });
    document.getElementById('closeAdmin').addEventListener('click', () => { document.getElementById('adminPanel').style.display = 'none'; document.getElementById('adminPanel').setAttribute('aria-hidden', 'true'); });

    ['adminLogo','adminTitle','adminSlogan','adminWa'].forEach(id => {
      document.getElementById(id).addEventListener('input', () => {
        config.logoUrl = document.getElementById('adminLogo').value.trim();
        config.brandTitle = document.getElementById('adminTitle').value.trim() || 'TROIA D√ñNER';
        config.brandSlogan = document.getElementById('adminSlogan').value.trim() || 'Tarihten gelen lezzet ‚Äì √áanakkale';
        config.whatsappNumber = document.getElementById('adminWa').value.trim() || '905415788507';
        renderBrand(); saveConfig(); toast('Marka bilgisi g√ºncellendi');
      });
    });

    function renderAdminMenu() {
      const wrap = document.getElementById('menuEditor');
      wrap.innerHTML = '';
      config.menuItems.forEach((item, idx) => {
        const row = document.createElement('div');
        row.className = 'admin-row';
        row.innerHTML = `
          <div class="admin-grid">
            <input data-field="category" data-idx="${idx}" value="${item.category}" />
            <input data-field="name" data-idx="${idx}" value="${item.name}" />
            <input data-field="price" data-idx="${idx}" value="${item.price}" />
            <input data-field="image" data-idx="${idx}" value="${item.image || ''}" placeholder="G√∂rsel URL" />
          </div>
          <textarea data-field="descMain" data-idx="${idx}" placeholder="A√ßƒ±klama">${item.descMain || ''}</textarea>
          <textarea data-field="descExtra" data-idx="${idx}" placeholder="Ek a√ßƒ±klama">${item.descExtra || ''}</textarea>
          <textarea data-field="options" data-idx="${idx}" placeholder="Se√ßenekler: Soƒüansƒ±z|0,Acƒ±|5">${(item.options||[]).map(o=>`${o.name}|${o.price||0}`).join(',')}</textarea>
          <div style="display:flex;gap:8px;justify-content:flex-end;">
            <button class="btn" data-act="delete" data-idx="${idx}">Sil</button>
          </div>`;
        wrap.appendChild(row);
      });
    }

    document.getElementById('menuEditor').addEventListener('input', (e) => {
      const idx = e.target.dataset.idx; const field = e.target.dataset.field; if (idx === undefined) return;
      const item = config.menuItems[idx]; if (!item) return;
      const val = e.target.value;
      if (field === 'price') item.price = Number(val) || 0;
      else if (field === 'options') { item.options = val.split(',').filter(Boolean).map(s => { const [n,p] = s.split('|'); return { name: (n||'').trim(), price: Number(p)||0 }; }); }
      else item[field] = val;
      renderMenu(); saveConfig(); toast('Men√º g√ºncellendi');
    });

    document.getElementById('menuEditor').addEventListener('click', (e) => {
      const btn = e.target.closest('button'); if (!btn) return;
      if (btn.dataset.act === 'delete') { const idx = Number(btn.dataset.idx); config.menuItems.splice(idx,1); renderAdminMenu(); renderMenu(); saveConfig(); toast('Silindi'); }
    });

    document.getElementById('addNewItem').addEventListener('click', () => {
      const cat = document.getElementById('newCat').value.trim() || 'Yeni Kategori';
      const name = document.getElementById('newName').value.trim();
      const price = Number(document.getElementById('newPrice').value.trim()) || 0;
      if (!name) { toast('√úr√ºn adƒ± girin'); return; }
      const desc = document.getElementById('newDesc').value.trim();
      const extra = document.getElementById('newExtra').value.trim();
      const image = document.getElementById('newImg').value.trim();
      const opts = document.getElementById('newOpts').value.split(',').filter(Boolean).map(s => { const [n,p] = s.split('|'); return { name: (n||'').trim(), price: Number(p)||0 }; });
      config.menuItems.push({ id: 'm'+Date.now(), category: cat, name, price, descMain: desc, descExtra: extra, image, options: opts });
      ['newCat','newName','newPrice','newDesc','newExtra','newImg','newOpts'].forEach(id => document.getElementById(id).value='');
      renderMenu(); renderAdminMenu(); saveConfig(); toast('Eklendi');
    });

    document.getElementById('saveConfig').addEventListener('click', () => { saveConfig(); toast('Kaydedildi'); });
    document.getElementById('resetConfig').addEventListener('click', () => { if (confirm('Varsayƒ±lanlara d√∂n√ºls√ºn m√º?')) { config = JSON.parse(JSON.stringify(defaultConfig)); saveConfig(); renderAll(); toast('Varsayƒ±lana d√∂nd√º'); } });

    // Toast helper
    function toast(msg) {
      const t = document.getElementById('toast');
      t.textContent = msg;
      t.classList.add('show');
      clearTimeout(t._hide);
      t._hide = setTimeout(() => t.classList.remove('show'), 1800);
    }

    function renderAll() {
      renderBrand();
      renderMenu();
      renderDrinks();
      renderAdminMenu();
      renderCart();
    }

    renderAll();

    // Example backend endpoints (future):
    // POST /api/send-order { cart, customer, total }
    // fetch('/api/send-order', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ cart, customer, total }) });
  </script>
</body>
</html>
