<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Troia DÃ¶ner | Online SipariÅŸ</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    body { background:#111; color:#f5f5f5; }
    a { text-decoration:none; }

    .page { max-width: 900px; margin: 0 auto; padding: 20px; }
    header { padding: 20px 0; text-align: center; border-bottom: 1px solid #333; }
    header h1 { font-size: 2.4rem; letter-spacing: .08em; text-transform: uppercase; }
    header h1 span { color: #f5c451; }
    header p { margin-top: 8px; color:#aaa; font-size:.95rem; }

    .hero { display:flex; flex-wrap:wrap; align-items:center; gap:20px; padding:30px 0; }
    .hero-text { flex:1 1 260px; }
    .hero-text h2 { font-size:1.6rem; margin-bottom:10px; }
    .hero-text p { color:#ccc; margin-bottom:15px; }
    .hero-tags { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:18px; }
    .tag { border:1px solid #444; padding:4px 10px; border-radius:999px; font-size:.8rem; color:#ccc; }

    .btn-main { display:inline-block; padding:12px 22px; border-radius:999px; background: linear-gradient(135deg,#f6d365,#fda085); color:#111; font-weight:600; }
    .btn-main small { display:block; font-size:.75rem; opacity:.8; }

    .hero-img { flex:1 1 260px; border-radius:16px; border:1px solid #333; padding:10px; background: radial-gradient(circle at top,#333 0,#111 55%); text-align:center; }
    .hero-img-inner { border-radius:12px; border:1px solid #444; padding:14px; }
    .hero-img h3 { margin-bottom:6px; }
    .hero-img p { font-size:.85rem; color:#bbb; }

    .menu { margin-top:10px; padding:20px 0; border-top:1px solid #333; }
    .menu h2 { margin-bottom:12px; font-size:1.3rem; }
    .menu-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(230px,1fr)); gap:14px; }

    .item { border:1px solid #333; border-radius:12px; padding:12px; background:#151515; }
    .item-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
    .item-name { font-weight:600; }
    .item-price { color:#f5c451; font-weight:600; }
    .item-desc { font-size:.85rem; color:#bbb; margin-bottom:8px; }
    .item-note { font-size:.75rem; color:#888; }

    .info { margin:25px 0; display:grid; gap:12px; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); }
    .info-box { border:1px solid #333; border-radius:12px; padding:12px; background:#151515; font-size:.9rem; }
    .info-box h3 { margin-bottom:6px; font-size:.95rem; color:#f5c451; }

    footer { border-top:1px solid #333; padding:14px 0; text-align:center; font-size:.8rem; color:#777; }

    @media (max-width:600px){
      header h1 { font-size:1.8rem; }
      .hero { padding:20px 0; }
    :root {
      --bg: #0c0a12;
      --panel: rgba(23, 22, 30, 0.82);
      --panel-strong: rgba(29, 27, 36, 0.9);
      --stroke: rgba(255, 255, 255, 0.08);
      --text: #f6f6f8;
      --muted: #b5b7c3;
      --accent: #f5c451;
      --accent-2: #d1973c;
      --accent-glow: rgba(245, 196, 81, 0.35);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: "Inter", "SF Pro Display", system-ui, -apple-system, sans-serif; }
    body {
      min-height: 100vh;
      background: radial-gradient(120% 140% at 20% 20%, rgba(245, 196, 81, 0.12), transparent 40%),
                  radial-gradient(120% 120% at 80% 0%, rgba(232, 156, 80, 0.18), transparent 38%),
                  linear-gradient(140deg, #08070a, #0f0c16 55%, #0c0a12);
      color: var(--text);
      padding: 18px;
    }
    a { color: inherit; text-decoration: none; }

    .page { max-width: 1180px; margin: 0 auto; background: linear-gradient(125deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); border: 1px solid var(--stroke); border-radius: 22px; padding: 18px; box-shadow: 0 25px 80px rgba(0,0,0,0.4); backdrop-filter: blur(10px); position: relative; overflow: hidden; }
    .page::before { content:""; position:absolute; inset: -40% 10% auto auto; width: 420px; height: 420px; background: radial-gradient(circle, var(--accent-glow), transparent 60%); filter: blur(40px); opacity: 0.45; }
    .page::after { content:""; position:absolute; inset:auto auto -45% -20%; width: 500px; height: 500px; background: radial-gradient(circle, rgba(232,156,80,0.22), transparent 65%); filter: blur(60px); opacity: 0.4; }
    .page > * { position: relative; z-index: 1; }

    header { display:flex; align-items:center; gap:14px; padding:10px 0 18px; border-bottom: 1px solid var(--stroke); }
    .brand-logo { width:70px; height:70px; border-radius:16px; background: linear-gradient(145deg, rgba(245,196,81,0.25), rgba(255,255,255,0.04)); display:grid; place-items:center; border:1px solid var(--stroke); overflow:hidden; }
    .brand-logo img { width:100%; height:100%; object-fit:cover; }
    .brand-text h1 { font-size:2rem; letter-spacing:0.12em; color: var(--accent); text-shadow:0 0 12px rgba(245,196,81,0.35); }
    .brand-text p { color: var(--muted); margin-top:4px; font-size:0.95rem; }

    .admin { margin:14px 0 10px; padding:12px; border:1px dashed var(--stroke); border-radius:14px; background: rgba(255,255,255,0.02); display:grid; gap:10px; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); }
    .admin h3 { grid-column: 1/-1; font-size:0.95rem; color: var(--accent); }
    .form-control { display:flex; flex-direction:column; gap:6px; }
    label { font-size:0.85rem; color: var(--muted); }
    input, select, textarea { background: var(--panel); border:1px solid var(--stroke); border-radius:10px; color: var(--text); padding:10px; outline:none; font-size:0.95rem; }

    .topbar { display:flex; justify-content:space-between; align-items:center; gap:12px; padding:16px 12px; background: var(--panel-strong); border:1px solid var(--stroke); border-radius:16px; margin-top:12px; flex-wrap:wrap; }
    .hero-text { max-width: 680px; }
    .hero-text h2 { font-size:1.6rem; margin-bottom:6px; }
    .hero-text p { color: var(--muted); margin-bottom:12px; }
    .badges { display:flex; gap:8px; flex-wrap:wrap; }
    .badge { padding:6px 12px; border-radius:999px; border:1px solid var(--stroke); background: rgba(255,255,255,0.04); color: var(--muted); font-size:0.9rem; }
    .cta { display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .btn-main { background: linear-gradient(135deg, var(--accent), var(--accent-2)); color:#111; border:none; border-radius:12px; padding:12px 18px; font-weight:700; box-shadow:0 16px 40px rgba(245,196,81,0.35); cursor:pointer; }
    .btn-ghost { background: rgba(255,255,255,0.04); color: var(--text); border:1px solid var(--stroke); border-radius:12px; padding:12px 14px; font-weight:600; cursor:pointer; }

    .cart-chip { margin-left:auto; background: rgba(255,255,255,0.05); border:1px solid var(--stroke); border-radius:12px; padding:10px 14px; display:flex; align-items:center; gap:8px; cursor:pointer; }
    .cart-chip strong { color: var(--accent); }

    .section { margin-top:24px; border:1px solid var(--stroke); border-radius:18px; padding:16px; background: var(--panel); box-shadow:0 10px 36px rgba(0,0,0,0.32); }
    .section h2 { font-size:1.2rem; margin-bottom:12px; }
    .menu-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(250px,1fr)); gap:12px; }
    .card { border:1px solid var(--stroke); border-radius:14px; padding:12px; background: linear-gradient(145deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); box-shadow:0 12px 30px rgba(0,0,0,0.28); display:flex; flex-direction:column; gap:10px; }
    .card-header { display:flex; align-items:center; gap:10px; }
    .thumb { width:70px; height:70px; border-radius:12px; background: rgba(255,255,255,0.03); border:1px solid var(--stroke); overflow:hidden; }
    .thumb img { width:100%; height:100%; object-fit:cover; }
    .card-title { font-weight:700; font-size:1rem; }
    .price { color: var(--accent); font-weight:700; }
    .desc { color: var(--muted); font-size:0.9rem; }
    .note { color:#8e90a1; font-size:0.85rem; }
    .card-actions { display:flex; gap:8px; flex-wrap:wrap; }

    .drink-qty { display:flex; align-items:center; gap:8px; }
    .qty-btn { width:32px; height:32px; border-radius:10px; border:1px solid var(--stroke); background: rgba(255,255,255,0.05); color: var(--text); font-weight:700; cursor:pointer; }
    .qty-display { min-width:30px; text-align:center; }

    .info-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap:12px; margin-top:10px; }
    .info-box { border:1px solid var(--stroke); border-radius:12px; padding:12px; background: var(--panel-strong); box-shadow:0 8px 26px rgba(0,0,0,0.25); }
    .info-box h3 { margin-bottom:6px; color: var(--accent); font-size:1rem; }
    .steps { display:grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap:10px; margin-top:10px; }
    .step { display:flex; gap:10px; padding:10px; border-radius:12px; border:1px solid var(--stroke); background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); box-shadow:0 6px 22px rgba(0,0,0,0.22); }
    .step-number { width:26px; height:26px; border-radius:50%; background: linear-gradient(135deg, var(--accent), var(--accent-2)); color:#111; display:grid; place-items:center; font-weight:800; }

    .modal-backdrop { position:fixed; inset:0; background:rgba(0,0,0,0.55); display:none; align-items:center; justify-content:center; padding:12px; z-index: 5; }
    .modal { background: #111017; border-radius:16px; border:1px solid var(--stroke); padding:16px; width: min(760px, 100%); max-height:90vh; overflow:auto; box-shadow:0 20px 50px rgba(0,0,0,0.4); }
    .modal-header { display:flex; justify-content:space-between; align-items:center; gap:10px; margin-bottom:10px; }
    .close { cursor:pointer; border:none; background:rgba(255,255,255,0.06); color:var(--text); padding:6px 10px; border-radius:8px; }
    table { width:100%; border-collapse: collapse; font-size:0.95rem; }
    th, td { padding:8px; text-align:left; border-bottom:1px solid var(--stroke); }
    .cart-actions { display:flex; gap:6px; align-items:center; }
    .totals { margin-top:10px; display:flex; justify-content:flex-end; }
    .totals div { text-align:right; }
    .totals strong { color: var(--accent); }

    .otp-row { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    .hint { color: var(--muted); font-size:0.85rem; }

    footer { margin:16px 0 4px; text-align:center; color: var(--muted); font-size:0.85rem; }

    @media (max-width:720px){
      header { flex-direction:column; align-items:flex-start; }
      .cart-chip { width:100%; justify-content:space-between; }
      table { font-size:0.9rem; }
      th:nth-child(3), td:nth-child(3) { white-space: nowrap; }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <h1>TROIA <span>DÃ–NER</span></h1>
      <p>Tarihten gelen lezzet Â· Ã‡anakkale</p>
      <div class="brand-logo" id="logoBox">
        <img id="brandLogo" src="https://images.unsplash.com/photo-1481391032119-d89fee407e44?auto=format&fit=crop&w=300&q=80" alt="Troia DÃ¶ner logo">
      </div>
      <div class="brand-text">
        <h1 id="brandTitle">TROIA DÃ–NER</h1>
        <p id="brandTagline">Tarihten gelen lezzet â€“ Ã‡anakkale</p>
      </div>
    </header>

    <section class="hero">
      <div class="hero-text">
        <h2>SÄ±cak, taze, sosu tam kararÄ±nda dÃ¶ner.</h2>
        <p>AynÄ± anda hem sokak lezzeti, hem sessiz lÃ¼ks. Troia DÃ¶ner ÅŸimdi Ã§evrim iÃ§i sipariÅŸle cebinde.</p>

        <div class="hero-tags">
          <span class="tag">ğŸ”¥ GÃ¼nlÃ¼k taze Ã¼rÃ¼n</span>
          <span class="tag">ğŸšš Paket servis</span>
          <span class="tag">ğŸ“ Ã‡anakkale merkez</span>
        </div>

        <!-- WHATSAPP NUMARANI BURAYA GÄ°RECEKSÄ°N -->
        <a class="btn-main" href="https://wa.me/905000000000?text=Merhaba%2C%20Troia%20D%C3%B6ner%20i%C3%A7in%20sipari%C5%9F%20vermek%20istiyorum." target="_blank">
          WhatsAppâ€™tan SipariÅŸ Ver
          <small>Sepetini yaz, hemen hazÄ±rlayalÄ±m.</small>
        </a>
    <section class="admin">
      <h3>Admin ayar alanÄ± (logo, baÅŸlÄ±k, slogan, WhatsApp)</h3>
      <div class="form-control">
        <label for="logoInput">Logo URL</label>
        <input id="logoInput" type="url" placeholder="https://..." value="https://images.unsplash.com/photo-1481391032119-d89fee407e44?auto=format&fit=crop&w=300&q=80">
      </div>
      <div class="form-control">
        <label for="titleInput">BaÅŸlÄ±k</label>
        <input id="titleInput" type="text" value="TROIA DÃ–NER">
      </div>
      <div class="form-control">
        <label for="taglineInput">Slogan</label>
        <input id="taglineInput" type="text" value="Tarihten gelen lezzet â€“ Ã‡anakkale">
      </div>
      <div class="form-control">
        <label for="waInput">WhatsApp numarasÄ± (Ã¼lke kodlu, boÅŸluksuz)</label>
        <input id="waInput" type="tel" value="905415788507">
      </div>
    </section>

      <div class="hero-img">
        <div class="hero-img-inner">
          <h3>BugÃ¼nÃ¼n Ã¶nerisi</h3>
          <p>PilavÃ¼stÃ¼ tavuk dÃ¶ner + ayran Â· sosu bol, soÄŸan isteÄŸe baÄŸlÄ±.</p>
    <section class="topbar">
      <div class="hero-text">
        <h2 id="heroTitle">Premium dÃ¶ner ve dÃ¼rÃ¼m keyfini tek tÄ±kla kapÄ±na getiriyoruz.</h2>
        <p>MenÃ¼yÃ¼ seÃ§, sepete ekle, bilgilerini gir. SMS doÄŸrulamasÄ± sonrasÄ± sipariÅŸin hazÄ±r mesajÄ±yla WhatsAppâ€™a yÃ¶nlenir.</p>
        <div class="badges">
          <span class="badge">ğŸ”¥ GÃ¼nlÃ¼k taze Ã¼rÃ¼n</span>
          <span class="badge">ğŸšš Ã‡anakkale merkez</span>
          <span class="badge">ğŸ’¬ WhatsApp ile sipariÅŸ</span>
        </div>
        <div class="cta">
          <button class="btn-main" id="primaryWhatsApp">WhatsAppâ€™tan BaÅŸlat</button>
          <a class="btn-ghost" href="tel:+905415788507" id="callLink">Ara</a>
        </div>
      </div>
      <div class="cart-chip" id="cartChip">
        <div>Sepet</div>
        <strong id="cartCount">0 Ã¼rÃ¼n</strong>
        <span id="cartTotal">â‚º0</span>
      </div>
    </section>

    <section class="menu">
    <section class="section">
      <h2>MenÃ¼</h2>
      <div class="menu-grid">
        <div class="item">
          <div class="item-header">
            <span class="item-name">PilavÃ¼stÃ¼ Tavuk DÃ¶ner</span>
            <span class="item-price">â‚º â€”</span>
          </div>
          <p class="item-desc">Tane tane pirinÃ§ pilav Ã¼zerinde ince dilim tavuk dÃ¶ner, domates ve mor soÄŸan eÅŸliÄŸinde.</p>
          <p class="item-note">Not: SoÄŸan / sos tercihini sipariÅŸ mesajÄ±nda yazabilirsin.</p>
        </div>
      <div id="menuContainer" class="menu-grid"></div>
    </section>

        <div class="item">
          <div class="item-header">
            <span class="item-name">PilavÃ¼stÃ¼ Et DÃ¶ner</span>
            <span class="item-price">â‚º â€”</span>
          </div>
          <p class="item-desc">Dana et dÃ¶ner, pilav, kÃ¶z biber ve domates ile premium sunum.</p>
          <p class="item-note">Not: Gramaj ve porsiyon bilgisi eklenecek.</p>
        </div>
    <section class="section">
      <h2>Ä°Ã§ecekler</h2>
      <div id="drinkContainer" class="menu-grid"></div>
    </section>

        <div class="item">
          <div class="item-header">
            <span class="item-name">LavaÅŸ DÃ¼rÃ¼m</span>
            <span class="item-price">â‚º â€”</span>
          </div>
          <p class="item-desc">Ã–zel lavaÅŸta tavuk veya et dÃ¶ner, isteÄŸe gÃ¶re turÅŸu biber ve sos.</p>
          <p class="item-note">Not: Ä°Ã§indekileri sipariÅŸte yazabilirsin.</p>
    <section class="section">
      <h2>Bilgiler</h2>
      <div class="info-grid">
        <div class="info-box">
          <h3>Ã‡alÄ±ÅŸma Saatleri</h3>
          <p>Her gÃ¼n 11.00 â€“ 23.00<br>YoÄŸun saat: 12.00 â€“ 14.00 / 18.00 â€“ 21.00</p>
        </div>

        <div class="item">
          <div class="item-header">
            <span class="item-name">Ä°Ã§ecekler</span>
            <span class="item-price">â‚º â€”</span>
          </div>
          <p class="item-desc">Cam ÅŸiÅŸe ayran, kola, gazlÄ± iÃ§ecekler.</p>
          <p class="item-note">Not: Miktar ve marka tercihini mesajda belirt.</p>
        <div class="info-box">
          <h3>Konum</h3>
          <p>Troia DÃ¶ner Â· Ã‡anakkale Merkez<br><a href="https://maps.google.com/?q=Troia%20D%C3%B6ner%20%C3%87anakkale" target="_blank">HaritayÄ± aÃ§</a></p>
        </div>
        <div class="info-box">
          <h3>Telefon</h3>
          <p><a id="phoneLink" href="tel:+905415788507">0 (541) 578 85 07</a><br>Arayarak da sipariÅŸ verebilirsiniz.</p>
        </div>
      </div>
      <div class="steps">
        <div class="step"><div class="step-number">1</div><div>MenÃ¼yÃ¼ seÃ§, porsiyon ve sos tercihini belirle, sepete ekle.</div></div>
        <div class="step"><div class="step-number">2</div><div>Sepeti aÃ§, bilgilerini doldur, demo SMS kodunu doÄŸrula.</div></div>
        <div class="step"><div class="step-number">3</div><div>DoÄŸrulama baÅŸarÄ±lÄ± olunca WhatsApp mesajÄ± otomatik hazÄ±rlanÄ±r.</div></div>
      </div>
    </section>

    <section class="info">
      <div class="info-box">
        <h3>Ã‡alÄ±ÅŸma Saatleri</h3>
        <p>Her gÃ¼n: 11.00 â€“ 23.00<br/>YoÄŸun saat: 12.00 â€“ 14.00 / 18.00 â€“ 21.00</p>
    <footer>Troia DÃ¶ner Â· Koyu tema, premium gÃ¶rÃ¼nÃ¼m Â· TÃ¼m haklarÄ± saklÄ±dÄ±r.</footer>
  </div>

  <!-- Sepet Modal -->
  <div class="modal-backdrop" id="cartModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Sepet</h3>
        <button class="close" data-close>Ã—</button>
      </div>
      <div class="info-box">
        <h3>Konum</h3>
        <p>Troia DÃ¶ner Â· Ã‡anakkale Merkez<br/>Google Haritalar linki buraya gelecek.</p>
      <div id="cartBody"></div>
      <div class="totals">
        <div>
          <div>Ara toplam: <strong id="subTotal">â‚º0</strong></div>
          <div>Teslimat: <strong>â‚º0</strong></div>
          <div>Genel toplam: <strong id="grandTotal">â‚º0</strong></div>
        </div>
      </div>
      <div class="info-box">
        <h3>Telefon</h3>
        <p>0 (5xx) xxx xx xx<br/>Arayarak da sipariÅŸ verebilirsiniz.</p>
      <div style="margin-top:12px; display:flex; justify-content:flex-end; gap:8px;">
        <button class="btn-ghost" data-close>Devam</button>
        <button class="btn-main" id="checkoutBtn">SipariÅŸi Tamamla</button>
      </div>
    </section>
    </div>
  </div>

  <!-- Checkout Modal -->
  <div class="modal-backdrop" id="checkoutModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Teslimat Bilgileri</h3>
        <button class="close" data-close>Ã—</button>
      </div>
      <div class="form-grid" style="display:grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap:10px;">
        <div class="form-control">
          <label>Ad Soyad *</label>
          <input id="nameInput" type="text" placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z" required>
        </div>
        <div class="form-control">
          <label>Telefon *</label>
          <input id="phoneInput" type="tel" placeholder="05xx..." required>
        </div>
        <div class="form-control" style="grid-column:1/-1;">
          <label>Adres *</label>
          <textarea id="addressInput" rows="2" placeholder="Mahalle, sokak, daire" required></textarea>
        </div>
        <div class="form-control">
          <label>Teslimat tipi</label>
          <select id="deliveryInput">
            <option>Gel-Al</option>
            <option>Adrese Teslim</option>
          </select>
        </div>
        <div class="form-control">
          <label>Not</label>
          <textarea id="noteInput" rows="2" placeholder="Sos tercihi, kapÄ± notu vb."></textarea>
        </div>
      </div>
      <div style="margin-top:12px; border-top:1px solid var(--stroke); padding-top:10px;">
        <div class="otp-row">
          <div class="form-control" style="flex:1; min-width:200px;">
            <label>DoÄŸrulama Kodu</label>
            <input id="otpInput" type="text" placeholder="6 haneli kod" disabled>
          </div>
          <button class="btn-ghost" id="sendOtp">Kodu GÃ¶nder</button>
          <button class="btn-main" id="verifyOtp" disabled>Kodu Onayla</button>
        </div>
        <p class="hint" style="margin-top:6px;">Demo: Kod gÃ¶nderildiÄŸinde rastgele 6 haneli bir sayÄ± Ã¼retir ve console.log ile gÃ¶sterir. GerÃ§ek entegrasyon iÃ§in aÅŸaÄŸÄ±daki yorum satÄ±rlarÄ±nÄ± kullanÄ±n.</p>
        <!-- SMS OTP iÃ§in Ã¶rnek backend uÃ§ noktalarÄ±:
          // POST /api/send-otp { phone }
          // return: { success: true }
          // fetch("/api/send-otp", { method: "POST", headers:{"Content-Type":"application/json"}, body: JSON.stringify({ phone }) })

    <footer>
      Troia DÃ¶ner Â· Tarihten gelen lezzet
    </footer>
          // POST /api/verify-otp { phone, code }
          // fetch("/api/verify-otp", { method:"POST", headers:{"Content-Type":"application/json"}, body: JSON.stringify({ phone, code }) })
        -->
      </div>
      <div style="display:flex; justify-content:flex-end; gap:8px; margin-top:14px;">
        <button class="btn-ghost" data-close>VazgeÃ§</button>
        <button class="btn-main" id="confirmOrder" disabled>WhatsAppâ€™a GÃ¶nder</button>
      </div>
    </div>
  </div>

  <script>
    // Basit konfigÃ¼rasyon objesi: metinleri ve numaralarÄ± buradan okuyoruz.
    const config = {
      brandTitle: 'TROIA DÃ–NER',
      tagline: 'Tarihten gelen lezzet â€“ Ã‡anakkale',
      logo: 'https://images.unsplash.com/photo-1481391032119-d89fee407e44?auto=format&fit=crop&w=300&q=80',
      waNumber: '905415788507',
      menuItems: [
        { id: 1, kategori: 'DÃ¶nerler', name: 'PilavÃ¼stÃ¼ Tavuk DÃ¶ner', price: 250, descMain: 'Tane tane pirinÃ§ pilav Ã¼zerinde ince dilim tavuk dÃ¶ner.', descExtra: 'SoÄŸan, turÅŸu ve sos tercihi mesajda belirtilebilir.', image: 'https://images.unsplash.com/photo-1552332386-f8dd00dc2f85?auto=format&fit=crop&w=600&q=80' },
        { id: 2, kategori: 'DÃ¶nerler', name: 'PilavÃ¼stÃ¼ Et DÃ¶ner', price: 340, descMain: 'Dana dÃ¶ner, tereyaÄŸlÄ± pilav ve kÃ¶z sebze ile premium sunum.', descExtra: 'Gramaj 120-140 gr arasÄ±; sos tercihi isteÄŸe baÄŸlÄ±.', image: 'https://images.unsplash.com/photo-1481931098730-318b6f776db0?auto=format&fit=crop&w=600&q=80' },
        { id: 3, kategori: 'DÃ¼rÃ¼mler', name: 'LavaÅŸ DÃ¼rÃ¼m (Tavuk)', price: 180, descMain: 'Ä°nce lavaÅŸta bol tavuk dÃ¶ner, Ã§Ä±tÄ±r patates ve turÅŸu.', descExtra: 'SoÄŸan ve sos seÃ§imini ek notta bÄ±rakÄ±n.', image: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80' },
        { id: 4, kategori: 'DÃ¼rÃ¼mler', name: 'LavaÅŸ DÃ¼rÃ¼m (Et)', price: 240, descMain: 'Dana dÃ¶ner, lavaÅŸ, isteÄŸe gÃ¶re kaÅŸar ilavesi.', descExtra: 'AcÄ± sos / sarÄ±msaklÄ± sos tercihi seÃ§ilebilir.', image: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=600&q=80' },
        { id: 5, kategori: 'Tabaklar', name: 'Ä°skender', price: 360, descMain: 'TereyaÄŸlÄ± sos, yoÄŸurt ve pide Ã¼zerinde dana dÃ¶ner.', descExtra: 'TereyaÄŸÄ± miktarÄ±nÄ± notta belirtebilirsiniz.', image: 'https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&fit=crop&w=600&q=80' },
        { id: 6, kategori: 'Ekstralar', name: 'Ek Patates', price: 70, descMain: 'Ã‡Ä±tÄ±r patates kÄ±zartmasÄ±, tek kiÅŸilik.', descExtra: '', image: 'https://images.unsplash.com/photo-1482049016688-2d3e1b311543?auto=format&fit=crop&w=600&q=80' },
      ],
      drinkItems: [
        { id: 101, name: 'Ayran (33 cl)', price: 35 },
        { id: 102, name: 'Kola (33 cl)', price: 50 },
        { id: 103, name: 'Fanta (33 cl)', price: 50 },
        { id: 104, name: 'Soda', price: 30 },
      ]
    };

    const cart = [];
    const drinkSelection = new Map();
    let generatedOtp = null;
    let otpVerified = false;

    const menuContainer = document.getElementById('menuContainer');
    const drinkContainer = document.getElementById('drinkContainer');
    const cartChip = document.getElementById('cartChip');
    const cartCount = document.getElementById('cartCount');
    const cartTotal = document.getElementById('cartTotal');
    const cartModal = document.getElementById('cartModal');
    const checkoutModal = document.getElementById('checkoutModal');
    const cartBody = document.getElementById('cartBody');
    const subTotalEl = document.getElementById('subTotal');
    const grandTotalEl = document.getElementById('grandTotal');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const confirmOrderBtn = document.getElementById('confirmOrder');
    const sendOtpBtn = document.getElementById('sendOtp');
    const verifyOtpBtn = document.getElementById('verifyOtp');
    const otpInput = document.getElementById('otpInput');
    const nameInput = document.getElementById('nameInput');
    const phoneInput = document.getElementById('phoneInput');
    const addressInput = document.getElementById('addressInput');
    const deliveryInput = document.getElementById('deliveryInput');
    const noteInput = document.getElementById('noteInput');
    const primaryWhatsApp = document.getElementById('primaryWhatsApp');
    const phoneLink = document.getElementById('phoneLink');
    const callLink = document.getElementById('callLink');

    function formatPrice(v){ return `â‚º${v.toLocaleString('tr-TR')}`; }
    function formatDisplayNumber(num){
      const digits = (num || '').replace(/\D/g,'');
      if(digits.length >= 10){
        const local = digits.slice(-10);
        return `0 (${local.slice(0,3)}) ${local.slice(3,6)} ${local.slice(6,8)} ${local.slice(8,10)}`;
      }
      return num;
    }

    function renderMenu(){
      menuContainer.innerHTML = '';
      const grouped = config.menuItems.reduce((acc,item)=>{
        acc[item.kategori] = acc[item.kategori] || [];
        acc[item.kategori].push(item);
        return acc;
      },{});
      Object.keys(grouped).forEach(cat=>{
        const catBox = document.createElement('div');
        catBox.innerHTML = `<h3 style="margin-bottom:8px; color: var(--accent);">${cat}</h3>`;
        grouped[cat].forEach(item=>{
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <div class="card-header">
              <div class="thumb"><img src="${item.image}" alt="${item.name}"></div>
              <div>
                <div class="card-title">${item.name}</div>
                <div class="price">${formatPrice(item.price)}</div>
              </div>
            </div>
            <div class="desc">${item.descMain}</div>
            ${item.descExtra ? `<div class="note">${item.descExtra}</div>` : ''}
            <div class="card-actions">
              <button class="btn-main" data-id="${item.id}" data-type="food">Sepete Ekle</button>
            </div>
          `;
          catBox.appendChild(card);
        });
        menuContainer.appendChild(catBox);
      });
      menuContainer.querySelectorAll('button[data-type="food"]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const id = Number(btn.dataset.id);
          const item = config.menuItems.find(m=>m.id===id);
          if(item) addToCart({ id:item.id, type:'food', name:item.name, price:item.price });
        });
      });
    }

    function renderDrinks(){
      drinkContainer.innerHTML = '';
      config.drinkItems.forEach(item=>{
        const qty = drinkSelection.get(item.id) || 0;
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="card-header">
            <div class="thumb" style="background:rgba(255,255,255,0.06); display:grid; place-items:center; font-weight:700; color:var(--accent);">ğŸ¥¤</div>
            <div>
              <div class="card-title">${item.name}</div>
              <div class="price">${formatPrice(item.price)}</div>
            </div>
          </div>
          <div class="card-actions">
            <div class="drink-qty">
              <button class="qty-btn" data-action="dec" data-id="${item.id}">âˆ’</button>
              <div class="qty-display" id="drink-qty-${item.id}">${qty}</div>
              <button class="qty-btn" data-action="inc" data-id="${item.id}">+</button>
            </div>
            <button class="btn-main" data-action="add" data-id="${item.id}">Sepete Ekle</button>
          </div>
        `;
        drinkContainer.appendChild(card);
      });
      drinkContainer.querySelectorAll('.qty-btn').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const id = Number(btn.dataset.id);
          const current = drinkSelection.get(id) || 0;
          const next = btn.dataset.action==='inc' ? current + 1 : Math.max(0, current - 1);
          drinkSelection.set(id, next);
          document.getElementById(`drink-qty-${id}`).textContent = next;
        });
      });
      drinkContainer.querySelectorAll('button[data-action="add"]').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const id = Number(btn.dataset.id);
          const qty = drinkSelection.get(id) || 1;
          const drink = config.drinkItems.find(d=>d.id===id);
          if(drink) addToCart({ id:drink.id, type:'drink', name:drink.name, price:drink.price, qty });
          drinkSelection.set(id, 0);
          document.getElementById(`drink-qty-${id}`).textContent = 0;
        });
      });
    }

    function addToCart(item){
      const existing = cart.find(c=>c.id===item.id && c.type===item.type);
      const qtyToAdd = item.qty || 1;
      if(existing){ existing.qty += qtyToAdd; }
      else { cart.push({ ...item, qty: qtyToAdd }); }
      updateCartBadge();
    }

    function updateCartBadge(){
      const totalQty = cart.reduce((s,c)=>s+c.qty,0);
      const totalPrice = cart.reduce((s,c)=>s+(c.price*c.qty),0);
      cartCount.textContent = `${totalQty} Ã¼rÃ¼n`;
      cartTotal.textContent = formatPrice(totalPrice);
    }

    function openModal(el){ el.style.display='flex'; }
    function closeModal(el){ el.style.display='none'; }

    function renderCart(){
      if(cart.length===0){
        cartBody.innerHTML = '<p>Sepetiniz boÅŸ.</p>';
        subTotalEl.textContent = 'â‚º0';
        grandTotalEl.textContent = 'â‚º0';
        return;
      }
      const rows = cart.map(item=>`
        <tr>
          <td>${item.name}</td>
          <td>${formatPrice(item.price)}</td>
          <td>
            <div class="cart-actions">
              <button class="qty-btn" data-action="dec" data-id="${item.id}" data-type="${item.type}">âˆ’</button>
              <div class="qty-display">${item.qty}</div>
              <button class="qty-btn" data-action="inc" data-id="${item.id}" data-type="${item.type}">+</button>
            </div>
          </td>
          <td>${formatPrice(item.price * item.qty)}</td>
          <td><button class="btn-ghost" data-action="remove" data-id="${item.id}" data-type="${item.type}">KaldÄ±r</button></td>
        </tr>`).join('');
      cartBody.innerHTML = `<table><thead><tr><th>ÃœrÃ¼n</th><th>Birim</th><th>Adet</th><th>Toplam</th><th></th></tr></thead><tbody>${rows}</tbody></table>`;
      cartBody.querySelectorAll('button[data-action]').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const id = Number(btn.dataset.id);
          const type = btn.dataset.type;
          const item = cart.find(c=>c.id===id && c.type===type);
          if(!item) return;
          if(btn.dataset.action==='inc') item.qty +=1;
          if(btn.dataset.action==='dec') item.qty = Math.max(1, item.qty-1);
          if(btn.dataset.action==='remove') cart.splice(cart.indexOf(item),1);
          renderCart();
          updateCartBadge();
        });
      });
      const sub = cart.reduce((s,c)=>s+(c.price*c.qty),0);
      subTotalEl.textContent = formatPrice(sub);
      grandTotalEl.textContent = formatPrice(sub);
    }

    function validateForm(){
      if(!nameInput.value.trim() || !phoneInput.value.trim() || !addressInput.value.trim()){
        alert('LÃ¼tfen zorunlu alanlarÄ± doldurun.');
        return false;
      }
      return true;
    }

    function sendOtp(){
      if(!validateForm()) return;
      generatedOtp = Math.floor(100000 + Math.random()*900000).toString();
      otpVerified = false;
      otpInput.disabled = false;
      verifyOtpBtn.disabled = false;
      confirmOrderBtn.disabled = true;
      console.log('Demo OTP kodu:', generatedOtp);
      // GerÃ§ek SMS isteÄŸi iÃ§in Ã¶rnek:
      // fetch('/api/send-otp', { method: 'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ phone: phoneInput.value }) })
      alert('Demo kod Ã¼retildi, console.log iÃ§inde gÃ¶rebilirsiniz.');
    }

    function verifyOtp(){
      if(!generatedOtp){ alert('Ã–nce kod gÃ¶nderin.'); return; }
      if(otpInput.value.trim() === generatedOtp){
        otpVerified = true;
        confirmOrderBtn.disabled = false;
        alert('DoÄŸrulama baÅŸarÄ±lÄ±. SipariÅŸinizi WhatsAppâ€™a gÃ¶nderebilirsiniz.');
      } else {
        otpVerified = false;
        confirmOrderBtn.disabled = true;
        alert('Kod hatalÄ±, tekrar deneyin.');
      }
    }

    function buildWhatsAppMessage(){
      const lines = [];
      lines.push(`Ad Soyad: ${nameInput.value}`);
      lines.push(`Telefon: ${phoneInput.value}`);
      lines.push(`Adres: ${addressInput.value}`);
      lines.push(`Teslimat: ${deliveryInput.value}`);
      if(noteInput.value.trim()) lines.push(`Not: ${noteInput.value}`);
      lines.push('\nSipariÅŸ DetayÄ±:');
      cart.forEach(item=>{
        lines.push(`- ${item.name} x${item.qty} = ${formatPrice(item.price*item.qty)}`);
      });
      const total = cart.reduce((s,c)=>s+(c.price*c.qty),0);
      lines.push(`Toplam: ${formatPrice(total)}`);
      return lines.join('\n');
    }

    function submitOrder(){
      if(!otpVerified){ alert('Ã–nce OTP doÄŸrulamasÄ± yapÄ±n.'); return; }
      const message = buildWhatsAppMessage();
      const waText = encodeURIComponent(message);
      const waUrl = `https://api.whatsapp.com/send?phone=${config.waNumber}&text=${waText}`;
      window.location.href = waUrl;
    }

    function bindAdminInputs(){
      const logoInput = document.getElementById('logoInput');
      const titleInput = document.getElementById('titleInput');
      const taglineInput = document.getElementById('taglineInput');
      const waInput = document.getElementById('waInput');
      logoInput.addEventListener('input',()=>{
        config.logo = logoInput.value;
        document.getElementById('brandLogo').src = config.logo;
      });
      titleInput.addEventListener('input',()=>{
        config.brandTitle = titleInput.value || 'TROIA DÃ–NER';
        document.getElementById('brandTitle').textContent = config.brandTitle;
      });
      taglineInput.addEventListener('input',()=>{
        config.tagline = taglineInput.value || 'Tarihten gelen lezzet â€“ Ã‡anakkale';
        document.getElementById('brandTagline').textContent = config.tagline;
      });
      waInput.addEventListener('input',()=>{
        config.waNumber = waInput.value.replace(/\s+/g,'');
        primaryWhatsApp.textContent = 'WhatsAppâ€™tan BaÅŸlat';
        primaryWhatsApp.onclick = ()=>{ window.location.href = `https://api.whatsapp.com/send?phone=${config.waNumber}`; };
        const formatted = formatDisplayNumber(config.waNumber);
        phoneLink.href = `tel:+${config.waNumber}`;
        phoneLink.textContent = formatted || config.waNumber;
        callLink.href = `tel:+${config.waNumber}`;
      });
      primaryWhatsApp.onclick = ()=>{ window.location.href = `https://api.whatsapp.com/send?phone=${config.waNumber}`; };
      const formatted = formatDisplayNumber(config.waNumber);
      phoneLink.href = `tel:+${config.waNumber}`;
      phoneLink.textContent = formatted || config.waNumber;
      callLink.href = `tel:+${config.waNumber}`;
    }

    document.addEventListener('click', (e)=>{
      if(e.target.dataset.close!==undefined){
        closeModal(cartModal); closeModal(checkoutModal);
      }
    });

    cartChip.addEventListener('click', ()=>{ renderCart(); openModal(cartModal); });
    checkoutBtn.addEventListener('click', ()=>{
      if(cart.length===0){ alert('Sepete Ã¼rÃ¼n ekleyin.'); return; }
      generatedOtp = null;
      otpVerified = false;
      otpInput.value = '';
      otpInput.disabled = true;
      verifyOtpBtn.disabled = true;
      confirmOrderBtn.disabled = true;
      openModal(checkoutModal);
    });
    sendOtpBtn.addEventListener('click', sendOtp);
    verifyOtpBtn.addEventListener('click', verifyOtp);
    confirmOrderBtn.addEventListener('click', submitOrder);

    renderMenu();
    renderDrinks();
    bindAdminInputs();
    updateCartBadge();
  </script>
</body>
</html>
